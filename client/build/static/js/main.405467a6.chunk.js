(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(175)},105:function(e,t,a){},106:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},172:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),s=a.n(c),l=a(8),o=a(9),i=a(11),u=a(10),m=a(12),h=(a(105),a(46)),p=a(34),d=a(180),g=a(87),b=a(88),f=a(90),E=(a(106),a(26)),O=a(28),v=a.n(O),j=a(47),y=a.n(j);function S(e){e?v.a.defaults.headers.common.token="".concat(e):delete v.a.defaults.headers.common.token}var k=function(e){return{type:"LOGIN_USER",payload:e}},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={email:"",password:""},a.submitForm=a.submitForm.bind(Object(p.a)(Object(p.a)(a))),a.handleInput=a.handleInput.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errorMessage.err&&(alert(e.errorMessage.err),this.props.removeError()),Object.keys(e.auth).length>0&&this.props.history.push("/")}},{key:"handleInput",value:function(e){var t=e.target.id,a=e.target.value;this.setState(Object(h.a)({},t,a))}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.loginUser(this.state)}},{key:"render",value:function(){return r.a.createElement(d.a,{onSubmit:this.submitForm,className:"form-signin"},r.a.createElement("h2",null,"Hi there!"),r.a.createElement(g.a,{controlId:"formHorizontalEmail"},r.a.createElement(b.a,{type:"text",value:this.state.value,placeholder:"Enter email",onChange:this.handleInput})),r.a.createElement(g.a,{controlId:"formHorizontalPassword"},r.a.createElement(b.a,{type:"text",value:this.state.value,placeholder:"Enter password",onChange:this.handleInput})),r.a.createElement(g.a,{className:"center-button"},r.a.createElement(f.a,{type:"submit"},"Login")))}}]),t}(n.Component),I=Object(E.b)(function(e){return{auth:e.user.authUser,errorMessage:e.errors}},{loginUser:function(e){return function(t){v.a.post("user/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),S(a);var n=y()(a);t(k(n))}).catch(function(e){return t({type:"ERRORS",payload:e.response.data})})}},removeError:function(){return function(e){e({type:"REMOVE_ERRORS"})}}})(R),w=a(33),C=a(179),N=a(182),U=a(181),x=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{bg:"light",expand:"lg"},r.a.createElement(C.a.Brand,{href:"#home"},"Title"),r.a.createElement(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,{href:"#home"},"Home"),r.a.createElement(N.a.Link,{href:"#link"},"Link"),r.a.createElement(U.a,{title:"Dropdown",id:"basic-nav-dropdown"},r.a.createElement(U.a.Item,{href:"#action/3.1"},"Item #1"),r.a.createElement(U.a.Item,{href:"#action/3.2"},"Item #2"),r.a.createElement(U.a.Item,{href:"#action/3.3"},"Item #3"),r.a.createElement(U.a.Divider,null),r.a.createElement(U.a.Item,{href:"#action/3.4"},"Item #4"))),r.a.createElement(d.a,{inline:!0},r.a.createElement(b.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(f.a,{variant:"outline-success"},"Search"))))}}]),t}(n.Component),M=Object(E.b)(function(e){return{auth:e.user.authUser}})(x),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=function(a){function n(){return Object(l.a)(this,n),Object(i.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(m.a)(n,a),Object(o.a)(n,[{key:"componentWillMount",value:function(){var e=this.props.auth;if(0===Object.keys(e).length)return alert("You must be logged In to see this Page"),void this.props.history.push("/login");t&&1!==e.role&&(alert("You must be an administrator to see this page"),this.props.history.push("/"))}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(r.a.Component);return Object(E.b)(function(e){return{auth:e.user.authUser}})(a)},_=(a(151),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.selectSegment(a.props.segment)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.segment.priceCurrency;"EUR"===this.props.segment.priceCurrency&&(e="\u20ac");var t="".concat(this.props.segment.name),a="".concat(this.props.segment.price).concat(e," /month"),n={backgroundImage:"url('".concat(this.props.segment.imageUrl,"')")};return r.a.createElement("div",{className:"Segment",onClick:this.handleClick},r.a.createElement("div",{className:"Segment-picture",style:n}),r.a.createElement("div",{className:"Segment-title"},t),r.a.createElement("div",{className:"Segment-price"},a))}}]),t}(n.Component)),L=(a(152),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="Marker";return this.props.selected&&(e+=" Selected"),r.a.createElement("div",{className:e},this.props.text,"\u20ac")}}]),t}(n.Component)),D=a(96),A=a.n(D),F=(a(172),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).selectSegment=function(e){a.setState({selectedSegment:e})},a.handleSearch=function(e){a.setState({search:e.target.value,segments:a.state.allSegments.filter(function(t){return new RegExp(e.target.value,"i").exec(t.name)})})},a.state={segments:[],allSegments:[],selectedSegment:null,search:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3001/config/host.json").then(function(e){return e.json()}).then(function(t){e.setState({segments:t,allSegments:t})})}},{key:"render",value:function(){var e=this,t={lat:48.210033,lng:16.363449};return this.state.selectedSegment&&(t={lat:this.state.selectedSegment.lat,lng:this.state.selectedSegment.lng}),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Main"},r.a.createElement("div",{className:"Search"},r.a.createElement("input",{type:"text",placeholder:"Type something...",value:this.state.search,onChange:this.handleSearch})),r.a.createElement("div",{className:"Segments"},this.state.segments.map(function(t){return r.a.createElement(_,{key:t.id,segment:t,selectSegment:e.selectSegment})}))),r.a.createElement("div",{className:"Map"},r.a.createElement(A.a,{center:t,zoom:12},this.state.segments.map(function(t){return r.a.createElement(L,{key:t.id,lat:t.lat,lng:t.lng,text:t.price,selected:t===e.state.selectedSegment})}))))}}]),t}(n.Component)),G=a(177),H=a(178),z=a(89),P=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,null,r.a.createElement(H.a,null,r.a.createElement(z.a,{md:12},r.a.createElement("h1",null,"Sorry...Something Wrong..."))))}}]),t}(n.Component),W=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement(w.c,null,r.a.createElement(w.a,{exact:!0,path:"/",component:T(F)}),r.a.createElement(w.a,{path:"/login",key:"login",component:I}),r.a.createElement(w.a,{component:T(P)})))}}]),t}(n.Component),B=a(40),J=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(B.a,null,r.a.createElement(w.c,null,r.a.createElement(w.a,{path:"/login",component:I}),r.a.createElement(w.a,{path:"/",component:W}))))}}]),t}(n.Component),V=a(31),Y=a(98),q=a(99),K=a(39),Q={users:[],user:{},authUser:{}},X={message:{}},Z=Object(V.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return Object(K.a)({},e,{users:[t.payload].concat(Object(q.a)(e.users)),user:t.payload});case"GET_USERS":return Object(K.a)({},e,{users:t.payload});case"DELETE_USER":return Object(K.a)({},e,{users:e.users.filter(function(e){return e._id!==t.payload._id})});case"LOGIN_USER":return Object(K.a)({},e,{authUser:t.payload});case"LOGOUT_USER":return Object(K.a)({},e,{authUser:{}});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERRORS":return{message:t.payload};case"REMOVE_ERRORS":return{message:{}};default:return e}}}),$=[Y.a],ee=Object(V.d)(Z,{},V.a.apply(void 0,$));localStorage.jwtToken&&(S(localStorage.jwtToken),ee.dispatch(k(y()(localStorage.jwtToken)))),s.a.render(r.a.createElement(B.a,null,r.a.createElement(E.a,{store:ee},r.a.createElement(J,null))),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.405467a6.chunk.js.map